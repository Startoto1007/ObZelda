<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de recrutement de l'OB Zelda</title>
    <link rel="icon" href="https://res.cloudinary.com/dor9octmp/image/upload/v1746628814/Capture_d_e%CC%81cran_2025-05-07_a%CC%80_16.39.33_rbv8o0.png">
    
    <!-- Meta tags pour les aperçus sur Discord (Open Graph) -->
    <meta property="og:title" content="Formulaire de recrutement de l'OB Zelda">
    <meta property="og:description" content="Clique ici pour postuler !">
    <meta property="og:image" content="https://res.cloudinary.com/dor9octmp/image/upload/v1744972638/Capture_d_e%CC%81cran_2025-04-05_a%CC%80_10.24.06_yv2agt.png">
    <meta property="og:url" content="https://startoto1007.github.io/ObZelda/recrutement/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="OB Zelda">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Meta tags pour Apple -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="OB Zelda - Recrutement">
    
    <style>
        :root {
            --primary-color: #1e5631;
            --secondary-color: #4caf50;
            --accent-color: #fdcb6e;
            --light-green: #8bc34a;
            --text-color: #ffffff;
            --dark-text: #333333;
            --bg-color: #0a3410;
            --card-bg: rgba(30, 86, 49, 0.85);
            --card-hover: rgba(76, 175, 80, 0.3);
            --discord-color: #7289DA;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', Arial, sans-serif;
        }
        
        body {
            background-image: url('https://res.cloudinary.com/dor9octmp/image/upload/v1744971567/Capture_d_e%CC%81cran_2025-04-18_a%CC%80_11.27.22_fncjkw.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .overlay {
            background-color: rgba(10, 52, 16, 0.8);
            min-height: 100vh;
        }
        
        header {
            background-image: url('https://res.cloudinary.com/dor9octmp/image/upload/v1746016568/minecraft-zelda-botw-build_wklzg5.jpg');
            background-size: cover;
            background-position: center;
            height: 250px;
            position: relative;
        }
        
        .header-overlay {
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(10, 52, 16, 0.8));
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--accent-color);
            margin-bottom: 15px;
            box-shadow: 0 0 15px rgba(253, 203, 110, 0.7);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--accent-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }
        
        .triforce {
            display: inline-block;
            font-size: 1.2rem;
            color: var(--accent-color);
            margin: 0 5px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .section {
            background-color: var(--card-bg);
            padding: 30px;
            margin: 30px 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--light-green);
        }
        
        .section-title {
            font-size: 1.8rem;
            margin: 20px 0;
            color: var(--accent-color);
            text-align: center;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
            position: relative;
            padding-bottom: 15px;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background-color: var(--light-green);
        }
        
        h2 {
            font-size: 2rem;
            margin: 20px 0;
            color: var(--accent-color);
            text-align: center;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
            position: relative;
            padding-bottom: 15px;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background-color: var(--light-green);
        }
        
        label {
            display: block;
            margin-top: 20px;
            font-weight: bold;
            color: var(--light-green);
            font-size: 1.1rem;
        }
        
        input[type="text"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            border-radius: 8px;
            border: 2px solid var(--primary-color);
            background-color: rgba(255, 255, 255, 0.9);
            color: var(--dark-text);
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 8px rgba(253, 203, 110, 0.5);
            outline: none;
        }
        
        button.discord-btn {
            background-color: var(--discord-color);
            color: white;
            padding: 12px 24px;
            margin-top: 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        button.discord-btn:hover {
            background-color: #5e73bc;
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        }
        
        .home-link {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            margin-top: 20px;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .home-link:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background-color: var(--primary-color);
            margin-top: 30px;
            border-top: 3px solid var(--light-green);
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .section {
                padding: 20px;
            }
            
            header {
                height: 200px;
            }
        }
        
        /* Message de succès et d'erreur */
        .success-message {
            background-color: rgba(76, 175, 80, 0.2);
            border-left: 4px solid #4caf50;
            color: #4caf50;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-weight: bold;
        }
        
        .error-message {
            background-color: rgba(244, 67, 54, 0.2);
            border-left: 4px solid #f44336;
            color: #f44336;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-weight: bold;
        }
        
        .loading-message {
            color: var(--accent-color);
            font-weight: bold;
            text-align: center;
            padding: 15px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="overlay">
        <header>
            <div class="header-overlay">
                <img src="https://res.cloudinary.com/dor9octmp/image/upload/v1745145521/Logo_discord_uj0p2v.png" alt="Logo OB Zelda" class="logo">
                <h1>Rejoindre l'OB Zelda</h1>
                <p><span class="triforce">▲</span> Serveur OneBlock Hyping <span class="triforce">▲</span></p>
            </div>
        </header>

        <div class="container">
            <section class="section">
                <h2>Formulaire de recrutement</h2>
                <form id="recruitment-form">
                    
                    <!-- Partie 1 - Informations Générales -->
                    <div class="section-title">🌿 Partie 1 – Informations Générales</div>
                    
                    <label for="pseudo-mc">1. 🎮 Ton pseudo Minecraft</label>
                    <input type="text" id="pseudo-mc" name="pseudo-mc" required placeholder="Ton pseudo InGame">

                    <label for="pseudo-discord">2. 💬 Ton pseudo Discord (avec tag)</label>
                    <input type="text" id="pseudo-discord" name="pseudo-discord" required placeholder="Ton pseudo Discord avec le tag">

                    <label for="hyping">3. 📊 Sur une échelle de 1 à 10, à quel point connais-tu le serveur Hyping ?</label>
                    <input type="number" id="hyping" name="hyping" min="1" max="10" required placeholder="Note de 1 à 10">

                    <label for="zelda">4. 🗡️ As-tu déjà joué à un ou plusieurs jeux Zelda ? Si oui, lesquels ?</label>
                    <textarea id="zelda" name="zelda" rows="2" required placeholder="Tes expériences avec les jeux Zelda"></textarea>

                    <label for="style">5. 🎮 Quel style de joueur es-tu ?</label>
                    <input type="text" id="style" name="style" required placeholder="(Exemples : solo chill, team player, tryharder, builder créatif...)">

                    <label for="description">6. 🧠 Décris-toi en quelques adjectifs</label>
                    <input type="text" id="description" name="description" required placeholder="(3-4 adjectifs suffisent)">

                    <label for="initiative">7. 💡 Es-tu plus du genre à suivre ou à proposer des idées ?</label>
                    <select id="initiative" name="initiative" required>
                        <option value="">-- Choisis une option --</option>
                        <option value="Je préfère suivre">Je préfère suivre</option>
                        <option value="Je propose souvent">Je propose souvent</option>
                        <option value="Un peu des deux">Un peu des deux</option>
                    </select>

                    <label for="ancien-ob">8. 🛡️ As-tu déjà fait partie d'une OB (ou autre équipe) ? Si oui, laquelle et comment c'était ?</label>
                    <textarea id="ancien-ob" name="ancien-ob" rows="2" placeholder="Si oui, laquelle et comment c'était ?"></textarea>

                    <label for="specialite">9. 🧱 Quel est ton domaine de prédilection sur Hyping ?</label>
                    <input type="text" id="specialite" name="specialite" required placeholder="(Exemples : construction, farm, minage, pêche, dailys...)">

                    <label for="attentes">10. 🎯 Qu'attends-tu en rejoignant une OB comme la nôtre ?</label>
                    <textarea id="attentes" name="attentes" rows="3" required placeholder="Tes attentes et motivations"></textarea>

                    <label for="anecdote">11. 😄 Une anecdote fun ou originale sur toi (facultatif mais sympa !)</label>
                    <textarea id="anecdote" name="anecdote" rows="2" placeholder="Facultatif mais sympa à lire !"></textarea>

                    <!-- Partie 2 - Évaluation & Intégration -->
                    <div class="section-title">🧱 Partie 2 – Évaluation & Intégration</div>

                    <label for="stuff">1. ⚔️ Décris ton stuff actuel</label>
                    <textarea id="stuff" name="stuff" rows="3" required placeholder="Armure, outils, enchantements..."></textarea>

                    <label for="prestige">2. 🏅 Quel est ton prestige actuel ?</label>
                    <input type="text" id="prestige" name="prestige" required placeholder="(Exemple : Argent I, Or II...)">

                    <label for="temps-jeu">3. ⏱️ Combien d'heures joues-tu environ par jour / semaine / week-end ?</label>
                    <input type="text" id="temps-jeu" name="temps-jeu" required placeholder="Exemple : 2h/jour en semaine, 4h le week-end">

                    <label for="attentes-ob">4. 🎯 As-tu des attentes précises envers l'OB ou son fonctionnement ?</label>
                    <textarea id="attentes-ob" name="attentes-ob" rows="2" required placeholder="Tes attentes spécifiques"></textarea>

                    <label for="age">5. 📅 Si tu es d'accord, quel est ton âge (approximatif) ?</label>
                    <input type="text" id="age" name="age" placeholder="Facultatif">

                    <label for="installation">6. 🏡 Quelles seraient tes modalités pour t'installer dans l'OB ?</label>
                    <textarea id="installation" name="installation" rows="2" required placeholder="Ex : j'aimerais un espace d'au moins 20x20 blocs pour construire"></textarea>

                    <label for="confiance">7. 🔒 Tu n'es pas encore très actif sur le serveur, donc : qu'est-ce qui nous prouve qu'on peut te faire confiance ?</label>
                    <textarea id="confiance" name="confiance" rows="3" required placeholder="Explique pourquoi on peut te faire confiance"></textarea>

                    <label for="teleportation">8. 💀 Tu ne risques pas de t'évanouir quand je te téléporte dans l'OB (elle est un peu en travaux mdr) ?</label>
                    <select id="teleportation" name="teleportation" required>
                        <option value="">-- Choisis une réponse --</option>
                        <option value="Non, ça va aller !">Non, ça va aller !</option>
                        <option value="Peut-être un peu... 😅">Peut-être un peu... 😅</option>
                        <option value="J'ai confiance en votre construction !">J'ai confiance en votre construction !</option>
                    </select>

                    <button type="button" id="submit-btn" class="discord-btn">Envoyer ma candidature</button>
                </form>
                
                <div id="status-message" style="margin-top: 20px; text-align: center; display: none;"></div>
            </section>
        </div>

        <footer>
            <p>&copy; 2025 OB Zelda - OneBlock Hyping <span class="triforce">▲</span> Tous droits réservés.</p>
        </footer>
    </div>

    <script>
        // Attendre que le DOM soit complètement chargé
        document.addEventListener('DOMContentLoaded', function() {
            // Récupérer le bouton et ajouter un événement de clic
            const submitButton = document.getElementById('submit-btn');
            const form = document.getElementById('recruitment-form');
            const statusMessage = document.getElementById('status-message');
            
            submitButton.addEventListener('click', async function() {
                // Vérifier si le formulaire est valide
                if (!validateForm()) {
                    return;
                }
                
                // Afficher le message de chargement
                statusMessage.className = 'loading-message';
                statusMessage.style.display = 'block';
                statusMessage.innerHTML = 'Envoi en cours...';
                
                // URL du webhook Discord
                const webhookURL = 'https://discord.com/api/webhooks/1369664433839673475/GuKtZ279BAgKo0PUU_bSzJKFYUTvxCsBUjDhvbKEtPplOk20RDn479uj6OMTd2g2g1jH';
                
                // Création des données à envoyer
                const data = {
                    embeds: [{
                        title: "📥 Nouvelle candidature OB Zelda",
                        color: 3899949, // Convertir 0x3b662d en décimal
                        fields: [
                            {
                                name: "🌿 **PARTIE 1 – INFORMATIONS GÉNÉRALES**",
                                value: "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
                            },
                            {
                                name: "1. 🎮 Pseudo Minecraft",
                                value: document.getElementById('pseudo-mc').value,
                                inline: true
                            },
                            {
                                name: "2. 💬 Pseudo Discord",
                                value: document.getElementById('pseudo-discord').value,
                                inline: true
                            },
                            {
                                name: "3. 📊 Connaissance du serveur Hyping",
                                value: document.getElementById('hyping').value + "/10"
                            },
                            {
                                name: "4. 🗡️ Expérience avec les jeux Zelda",
                                value: document.getElementById('zelda').value || "Non précisé"
                            },
                            {
                                name: "5. 🎮 Style de joueur",
                                value: document.getElementById('style').value
                            },
                            {
                                name: "6. 🧠 Auto-description",
                                value: document.getElementById('description').value
                            },
                            {
                                name: "7. 💡 Initiative",
                                value: document.getElementById('initiative').value
                            },
                            {
                                name: "8. 🛡️ Expérience en OB",
                                value: document.getElementById('ancien-ob').value || "Non précisé"
                            },
                            {
                                name: "9. 🧱 Domaine de prédilection",
                                value: document.getElementById('specialite').value
                            },
                            {
                                name: "10. 🎯 Attentes générales",
                                value: document.getElementById('attentes').value
                            },
                            {
                                name: "11. 😄 Anecdote",
                                value: document.getElementById('anecdote').value || "Non précisé"
                            },
                            {
                                name: "🧱 **PARTIE 2 – ÉVALUATION & INTÉGRATION**",
                                value: "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
                            },
                            {
                                name: "1. ⚔️ Stuff actuel",
                                value: document.getElementById('stuff').value
                            },
                            {
                                name: "2. 🏅 Prestige actuel",
                                value: document.getElementById('prestige').value
                            },
                            {
                                name: "3. ⏱️ Temps de jeu",
                                value: document.getElementById('temps-jeu').value
                            },
                            {
                                name: "4. 🎯 Attentes envers l'OB",
                                value: document.getElementById('attentes-ob').value
                            },
                            {
                                name: "5. 📅 Âge",
                                value: document.getElementById('age').value || "Non précisé"
                            },
                            {
                                name: "6. 🏡 Modalités d'installation",
                                value: document.getElementById('installation').value
                            },
                            {
                                name: "7. 🔒 Preuves de confiance",
                                value: document.getElementById('confiance').value
                            },
                            {
                                name: "8. 💀 Réaction à la téléportation",
                                value: document.getElementById('teleportation').value
                            }
                        ],
                        footer: {
                            text: "Candidature reçue automatiquement via le site OB Zelda"
                        },
                        timestamp: new Date().toISOString()
                    }]
                };

                try {
                    const response = await fetch(webhookURL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });
                    
                    if (response.ok) {
                        // Afficher un message de succès
                        statusMessage.className = 'success-message';
                        statusMessage.innerHTML = '✅ Ta candidature a bien été envoyée ! On la lit et on te dit notre avis ^^';
                        form.reset();
                        
                        // Faire défiler jusqu'au message de statut
                        statusMessage.scrollIntoView({ behavior: 'smooth' });
                    } else {
                        throw new Error(`Erreur HTTP: ${response.status}`);
                    }
                } catch (err) {
                    console.error('Erreur lors de l\'envoi:', err);
                    statusMessage.className = 'error-message';
                    statusMessage.innerHTML = '❌ Une erreur est survenue. Merci de réessayer. Si cette erreur persiste, merci d\'ouvrir un ticket Discord pour nous en informer.';
                }
                
                // Cacher le message après 5 secondes
                setTimeout(() => {
                    statusMessage.style.display = 'none';
                }, 5000);
            });
            
            // Fonction pour valider le formulaire
            function validateForm() {
                // Liste des champs requis
                const requiredFields = [
                    'pseudo-mc', 
                    'pseudo-discord', 
                    'hyping', 
                    'zelda', 
                    'style', 
                    'description', 
                    'initiative', 
                    'specialite', 
                    'attentes',
                    'stuff',
                    'prestige',
                    'temps-jeu',
                    'attentes-ob',
                    'installation',
                    'confiance',
                    'teleportation'
                ];
                
                let isValid = true;
                
                // Vérifier chaque champ requis
                for (const fieldId of requiredFields) {
                    const field = document.getElementById(fieldId);
                    
                    if (!field.value.trim()) {
                        field.style.borderColor = '#f44336';
                        isValid = false;
                    } else {
                        field.style.borderColor = 'var(--primary-color)';
                    }
                }
                
                // Si le formulaire n'est pas valide, afficher un message
                if (!isValid) {
                    statusMessage.className = 'error-message';
                    statusMessage.style.display = 'block';
                    statusMessage.innerHTML = '❌ Merci de remplir tous les champs obligatoires.';
                    
                    // Cacher le message après 3 secondes
                    setTimeout(() => {
                        statusMessage.style.display = 'none';
                    }, 3000);
                }
                
                return isValid;
            }
        });
    </script>
</body>
</html>
